{"Variables":{"DashboardVariables":[{"VariableName":"dashboardWidth","EvaluateOnlyOnce":true,"OverrideWithParentDashboardVariableWhenAvailable":false,"ValueExpression":{"Expression":"680"},"EvaluateBeforeScreenRoles":false},{"VariableName":"headerWidth","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":false,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"const minWidth = 363\r\nconst maxWidth = $prop('variable.dashboardWidth')\r\nconst headerWidth = isnull($prop('benofficial2.Standings.HeaderWidth'), 10)\r\nconst variableWidth = (maxWidth - minWidth) * (headerWidth / 100)\r\nreturn minWidth + variableWidth"},"EvaluateBeforeScreenRoles":false}]},"DashboardDebugManager":{"WindowPositionSettings":{"IsFullScreen":false,"Position":"2314,50,829,961","TopMost":false,"AllowTransparency":true,"CloseOnMonitorLoss":false,"NoWindowActivate":false}},"Version":2,"Id":"34952759-26b6-469b-b4cf-da5322979395","BaseHeight":695,"BaseWidth":680,"BackgroundColor":"#FF000000","Screens":[{"RenderingSkip":0,"Name":"Screen","InGameScreen":true,"IdleScreen":true,"PitScreen":false,"ScreenId":"d90c74a5-1892-44ae-b1bc-24c6250ba5c7","AllowOverlays":true,"IsForegroundLayer":false,"IsOverlayLayer":false,"OverlayTriggerExpression":{"Expression":""},"ScreenEnabledExpression":{"Expression":""},"OverlayMaxDuration":0,"OverlayMinDuration":0,"IsBackgroundLayer":false,"BackgroundColor":"#00FFFFFF","Items":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.Layer, SimHub.Plugins","Group":false,"Repetitions":3,"PrepareRepetitions":true,"RepeatTopOffset":0.0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.WidgetItem, SimHub.Plugins","Variables":{"DashboardVariables":[{"VariableName":"ClassIdx","EvaluateOnlyOnce":false,"OverrideWithParentDashboardVariableWhenAvailable":true,"ValueExpression":{"JSExt":0,"Interpreter":1,"Expression":"return repeatindex() - 1;"},"EvaluateBeforeScreenRoles":false}]},"NextScreenCommand":0,"PreviousScreenCommand":0,"AutoSize":true,"FileName":"Class Standings.djson","InitialScreenIndex":0,"FreezePageChanges":false,"EnableScreenRolesAndActivation":true,"IgnoreSavedScreensEx":true,"BackgroundColor":"#00FFFFFF","Height":529.0,"Left":0.0,"Top":30.0,"Visible":true,"BlinkPhasisInverted":false,"Width":680.0,"Name":"Class Standings","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"const visibleClassCount = isnull($prop('benofficial2.Standings.VisibleClassCount'), 0);\r\nconst classIdx = repeatindex() - 1;\r\nconst visibleRowCount = isnull(getStandingsClassProp(classIdx, 'VisibleRowCount'), 0);\r\nreturn classIdx < visibleClassCount && visibleRowCount > 0;"},"Mode":2},"Top":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"let headerOffset = 0\r\nif (isnull($prop('benofficial2.Standings.HeaderVisible'), true))\r\n\theaderOffset = 26\r\n\r\nconst visibleClassCount = isnull($prop('benofficial2.Standings.VisibleClassCount'), 0);\r\nconst classIdx = repeatindex() - 1;\r\n\r\nconst headerVisible = isnull($prop('benofficial2.Standings.CarClassHeaderVisible'), true);\r\n\r\nlet offset = headerOffset - 6;\r\nfor (let i = 0; i < classIdx; i++)\r\n{\r\n\tconst visibleRowCount = isnull(getStandingsClassProp(i, 'VisibleRowCount'), 0);\r\n\tif (visibleRowCount > 0)\r\n\t{\r\n\t\toffset += 5 + (visibleRowCount * 20);\r\n\t\tif (isDividerVisible(i)) offset += 3;\r\n\t\tif( headerVisible) offset += 18;\r\n\t}\r\n}\r\n\r\nreturn offset"},"Mode":2}}}],"Visible":true,"BlinkPhasisInverted":false,"Name":"Class Standings Repeat","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.GroupItem, SimHub.Plugins","ChildsPositioning":0,"ChildsPositioningAlignment":0,"GroupPadding":{},"ChildsMargin":{},"ChildAlignmentHorizontal":0,"ChildAlignmentVertical":0,"Childrens":[{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.RectangleItem, SimHub.Plugins","IsRectangleItem":true,"BackgroundColor":"#FF000000","BorderStyle":{"RadiusTopLeft":3,"RadiusTopRight":3},"Height":23.0,"Left":0.0,"Opacity":90.0,"Top":0.0,"Visible":true,"BlinkPhasisInverted":false,"Width":363.0,"Name":"Background","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Opacity":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"return isnull($prop('benofficial2.Standings.HeaderOpacity'), 90);"},"Mode":2},"Width":{"Formula":{"Expression":"[variable.headerWidth]"},"Mode":2},"BackgroundColor":{"Formula":{"Expression":"[benofficial2.BackgroundColor]"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","FontSize":18.0,"Text":"Lap 000/000","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":23.0,"Left":0.0,"Top":0.0,"Visible":true,"BlinkPhasisInverted":false,"Width":363.0,"Name":"CurrentLap","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"let currentLap = 0\r\nif ($prop('benofficial2.Highlighted.CarIdx') < 0)\r\n\tcurrentLap = $prop('benofficial2.Player.CurrentLap')\r\nelse\r\n\tcurrentLap = $prop('benofficial2.Highlighted.CurrentLap')\r\n\r\nconst sessionLapsTotal = $prop('benofficial2.Session.LapsTotal')\r\nconst playerClassIdx = $prop('benofficial2.Standings.PlayerCarClassIdx')\r\nconst estimatedTotalLaps = getStandingsClassProp(playerClassIdx, 'EstimatedTotalLaps')\r\n\r\nlet total = '~'\r\nif (sessionLapsTotal > 0 && (estimatedTotalLaps <= 0 || sessionLapsTotal <= estimatedTotalLaps))\r\n{\r\n\ttotal = sessionLapsTotal\r\n}\r\nelse if (estimatedTotalLaps > 0)\r\n{\r\n\ttotal = '~' + estimatedTotalLaps\r\n}\r\n\r\nreturn 'Lap ' + currentLap + '/' + total"},"Mode":2},"Width":{"Formula":{"Expression":"[variable.headerWidth]"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingRight":3},"FontSize":18.0,"Text":"00:00:00","TextColor":"#FFFFFFFF","HorizontalAlignment":2,"VerticalAlignment":1,"UseMonospacedText":true,"CharWidth":11.0,"SpecialCharsWidth":6.0,"BackgroundColor":"#00FFFFFF","Height":23.0,"Left":0.0,"Top":0.0,"Visible":true,"BlinkPhasisInverted":false,"Width":363.0,"Name":"Time Left","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"const sessionTimeRemain = $prop('DataCorePlugin.GameRawData.Telemetry.SessionTimeRemain');\r\nreturn formatSecondsToTimecode(sessionTimeRemain);"},"Mode":2},"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"const totalLaps = parseInt($prop('DataCorePlugin.GameData.TotalLaps'));\r\nconst sessionLapsRemain = parseInt($prop('DataCorePlugin.GameRawData.Telemetry.SessionLapsRemain'));\r\nconst sessionTimeRemain = $prop('DataCorePlugin.GameRawData.Telemetry.SessionTimeRemain');\r\n\r\nif (totalLaps <= 0)\r\n{\r\n\treturn true;\r\n}\r\nelse if (sessionLapsRemain > 20000 && sessionLapsRemain != 604800)\r\n{\r\n\treturn true;\r\n}\r\nelse if (isQual())\r\n{\r\n\treturn true;\r\n}\r\nelse if (sessionTimeRemain <= 0)\r\n{\r\n\treturn false;\r\n}\r\n\r\nreturn true;"},"Mode":2},"Width":{"Formula":{"Expression":"[variable.headerWidth]"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Roboto","FontWeight":"Bold","TextPadding":{"PaddingLeft":3},"FontSize":18.0,"Text":"Lone Qualifying","TextColor":"#FFFFFFFF","HorizontalAlignment":0,"VerticalAlignment":1,"BackgroundColor":"#00FFFFFF","Height":23.0,"Left":0.0,"Top":0.0,"Visible":true,"BlinkPhasisInverted":false,"Width":363.0,"Name":"SessionType","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Text":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"const subType = isnull($prop('benofficial2.Session.SubType'), \"\")\r\nif (subType != \"\")\r\n\treturn subType\r\n\r\nreturn $prop('SessionTypeName')"},"Mode":2},"Width":{"Formula":{"Expression":"[variable.headerWidth]"},"Mode":2}}}],"BackgroundColor":"#00FFFFFF","Height":23.0,"Left":0.0,"Top":0.0,"Visible":true,"BlinkPhasisInverted":false,"Width":363.0,"Name":"Header","RenderingSkip":0,"MinimumRefreshIntervalMS":0.0,"Bindings":{"Visible":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"return isnull($prop('benofficial2.Standings.HeaderVisible'), true);"},"Mode":2},"Width":{"Formula":{"Expression":"[variable.headerWidth]"},"Mode":2}}}],"Visible":true,"BlinkPhasisInverted":false,"Name":"Visible","RenderingSkip":100,"MinimumRefreshIntervalMS":1000.0,"Bindings":{"Visible":{"Formula":{"JSExt":0,"Interpreter":1,"Expression":"if (!isnull($prop('benofficial2.iRacingRunning'), false)) \r\n\treturn false\r\n\r\nconst hideInReplay = isnull($prop('benofficial2.Standings.HideInReplay'), true)\r\nconst replayPlaying = isnull($prop('benofficial2.Session.ReplayPlaying'), false)\r\n\r\nif (hideInReplay && replayPlaying) \r\n\treturn false\r\n\t\r\nif (isnull($prop('GameRawData.Telemetry.IsGarageVisible'), false))\r\n\treturn false\r\n\r\nreturn true"},"Mode":2}}},{"$type":"SimHub.Plugins.OutputPlugins.GraphicalDash.Models.TextItem, SimHub.Plugins","IsTextItem":true,"Font":"Segoe UI","FontWeight":"Bold","FontSize":12.0,"Text":"New version available","TextColor":"#FFFFFFFF","HorizontalAlignment":1,"VerticalAlignment":1,"BackgroundColor":"#FFFF0000","BorderStyle":{"RadiusTopLeft":3,"RadiusTopRight":3,"RadiusBottomLeft":3,"RadiusBottomRight":3},"Height":18.0,"Left":89.0,"Top":5.0,"Visible":false,"BlinkPhasisInverted":false,"Width":205.0,"Name":"Version","RenderingSkip":50,"MinimumRefreshIntervalMS":500.0,"Bindings":{"Visible":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"return checkVersion(g_VersionName, g_VersionNumber) || getErrorMessage() != ''","PreExpression":"// Download new version at https://github.com/fixfactory/bo2-official-overlays\r\nconst g_VersionName = 'multiclassstandings'\r\nconst g_VersionNumber = '5.0'"},"Mode":2},"Text":{"Formula":{"JSExt":1,"Interpreter":1,"Expression":"const errorMessage = getErrorMessage()\r\nreturn errorMessage != '' ? errorMessage : \"New version available\""},"Mode":2}}}],"MinimumRefreshIntervalMS":0.0}],"SnapToGrid":false,"HideLabels":true,"ShowForeground":true,"ForegroundOpacity":100.0,"ShowBackground":true,"BackgroundOpacity":100.0,"ShowBoundingRectangles":false,"GridSize":10,"Images":[],"Metadata":{"ScreenCount":1.0,"InGameScreensIndexs":[0],"IdleScreensIndexs":[0],"MainPreviewIndex":0,"IsOverlay":true,"OverlaySizeWarning":false,"MetadataVersion":2.0,"EnableOnDashboardMessaging":true,"PitScreensIndexs":[],"SimHubVersion":"9.11.1","Author":"twitch.tv/benofficial2","Width":680.0,"Height":695.0,"DashboardVersion":""},"ShowOnScreenControls":true,"IsOverlay":true,"EnableClickThroughOverlay":true,"EnableOnDashboardMessaging":true,"UseStrictJSIsolation":false,"UseStrictJSIsolationWarning":true}